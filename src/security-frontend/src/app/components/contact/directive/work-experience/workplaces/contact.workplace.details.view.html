<crm-form-wrapper form-title="vm.title" submit-text="{{workplaceForm.$valid?'Ok':null}}" cancel-text="Cancel" submit-btn="vm.ok()"
                  cancel-btn="vm.cancel()" modal="true" ng-form="workplaceForm">
    <div class="form-group" crm-input-validation>
        <label for="workplaceName">Name</label>
        <input ng-model="vm.workplace.name"
               id="workplaceName"
               name="workplaceName"
               class="form-control"
               required maxlength="255">
        <span
            ng-show="workplaceForm.workplaceName.$error.required"
            class="help-block">Name of workplace is required</span>
    </div>
    <div class="form-group" crm-input-validation>
        <label for="workplacePosition">Position</label>
        <input ng-model="vm.workplace.position"
               class="form-control"
               id="workplacePosition"
               name="workplacePosition"
               maxlength="255">
    </div>
    <div class="form-group" crm-input-validation>
        <label for="workplaceStartDate">Start date</label>
        <input ng-model="vm.workplace.startDate"
               id="workplaceStartDate"
               name="workplaceStartDate"
               class="form-control"
               uib-datepicker-popup
               crm-min-date
               crm-custom-date-validation
               dependentField = "workplaceEndDate"
               placeholder="yyyy-MM-dd"
               pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"
               min-date="1900-01-01"
               max-date="{{vm.details.now|date:'yyyy-MM-dd'}}">
        <span
            ng-show="!workplaceForm.workplaceStartDate.$valid && !workplaceForm.workplaceStartDate.$error.date_validation"
            class="help-block">Enter date in format: yyyy-mm-dd</span>
        <span
            ng-show="!workplaceForm.workplaceStartDate.$valid && workplaceForm.workplaceStartDate.$error.date_validation"
            class="help-block">Start date has not correct value</span>
    </div>
    <div class="form-group" crm-input-validation>
        <label for="workplaceEndDate">End date</label>
        <input ng-model="vm.workplace.endDate"
               class="form-control"
               id="workplaceEndDate"
               name="workplaceEndDate"
               uib-datepicker-popup
               crm-custom-date-validation
               placeholder="yyyy-MM-dd"
               pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"
               min-date="{{vm.workplace.startDate|date:'yyyy-MM-dd'}}">
        <span
            ng-show="!workplaceForm.workplaceEndDate.$valid && !workplaceForm.workplaceEndDate.$error.date_validation"
            class="help-block">Enter date in format: yyyy-mm-dd</span>
        <span
            ng-show="!workplaceForm.workplaceEndDate.$valid && workplaceForm.workplaceEndDate.$error.date_validation"
            class="help-block">End date has not correct value</span>
    </div>
    <div class="form-group" crm-input-validation>
        <label for="workplaceComment">Comment</label>
        <input ng-model="vm.workplace.comment"
               class="form-control"
               id="workplaceComment"
               name="workplaceComment">
    </div>
</crm-form-wrapper>
